<%= #noinspection RailsParamDefResolve
    stylesheet_link_tag 'https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' %>
<%= #noinspection RailsParamDefResolve
    stylesheet_link_tag 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css' %>
<%= stylesheet_link_tag 'sessions_welcome' %>
<%= javascript_include_tag 'https://code.jquery.com/jquery-3.6.0.min.js' %>
<%= javascript_include_tag 'https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js' %>
<%= javascript_pack_tag 'application' %>
<%= javascript_pack_tag 'sessions_welcome' %>

<div class="top-navbar">
  <img src="/images/logo.png" alt="Logo">
  <a class="a-register" href="#"><%= t('session.register.title') %></a>
  <a id="login" href="#"><%= t('session.login.title') %></a>
  <a id="change-lang" href="#"><%= t('language.current') %></a>
</div>

<div class="main">
  <h1>Найдите новых знакомых!</h1>
  <h2>Общайтесь и встречайтесь с людьми со всего мира</h2>
</div>

<div class="fullscreen-container" id="login-container">
  <div class="popup-window">
    <label for="show" class="close-btn fas fa-times"></label>
    <h3><%= t('session.login.title') %></h3>
    <%= form_tag(sessions_login_path, :method => "get", :id => "login-form") do %>
      <div class="data">
        <%= label_tag t('session.login.email') %>
        <%= text_field_tag(:email) %> <br/>
      </div>
      <div class="data">
        <%= label_tag t('session.login.password') %>
        <%= password_field_tag(:password) %> <br/>
      </div>
      <button type="submit"><%= t('session.login.title') %></button>
      <div class="signup-link">
        <%= t('session.login.not_registered') %> <a class="a-register" href="#"><%= t('session.login.register_now') %></a>
      </div>
    <% end %>
  </div>
</div>

<div class="fullscreen-container" id="register-container">
  <div class="popup-window">
    <label for="show" class="close-btn fas fa-times"></label>
    <h3><%= t('session.register.title') %></h3>
    <%= form_tag(sessions_register_path, :method => "get", :id => "register-form") do %>
      <div class="data">
        <%= label_tag t('session.register.name') %>
        <%= text_field_tag(:name) %>
      </div>
      <div class="data">
        <%= label_tag t('session.login.email') %>
        <%= text_field_tag(:email) %>
      </div>
      <div class="data">
        <%= label_tag t('session.login.password') %>
        <%= password_field_tag(:password) %>
      </div>
      <div class="data">
        <%= label_tag t('session.register.password_confirmation') %>
        <%= password_field_tag(:password_confirmation) %>
      </div>
      <button type="submit"><%= t('session.register.title') %></button>
    <% end %>
  </div>
</div>

<div class="fullscreen-container" id="lang-container">
  <div class="popup-window">
    <label for="show" class="close-btn fas fa-times"></label>
    <h3><%= t('language.change') %></h3>
    <% I18n.available_locales.each do |locale| %>
      <% if I18n.locale == locale %>
        <p><%= t("language.#{locale}") %></p>
      <% else %>
        <a href="#" data-locale="<%= locale %>"><%= t("language.#{locale}") %></a>
      <% end %>
    <% end %>
  </div>
</div>

<% if flash[:success].present? %>
  <script>
      iziToast().success({
          title: "<%= flash[:success] %>"
      });
  </script>
<% end %>
<% if flash[:error].present? %>
  <script>
      iziToast().error({
          title: "<%= flash[:success] %>"
      });
  </script>
<% end %>